id: website

language: typescript

fileGroups:
  sources:
    - "src/**/*"

tasks:
  format-and-lint:
    command: "bunx biome check --write"
    deps:
      - "~:build"
    options:
      runInCI: false

  build:
    command: "bun run build"
    options:
      runInCI: true
      outputStyle: stream

  dev:
    command: "bun run dev"
    options:
      persistent: true
      runInCI: false

  deploy-preview:
    command: "bunx wrangler versions upload"
    deps:
      - "~:build"
    options:
      runInCI: false

  deploy-production:
    command: "bunx wrangler deploy"
    deps:
      - "~:build"
    options:
      runInCI: false
