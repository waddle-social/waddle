# Waddle Infrastructure - 1Password Secret References
# ====================================================
#
# This file maps environment variables to 1Password secret references.
# Use with: op run --env-file=.env.op -- <command>
#
# PREREQUISITES:
# 1. Install 1Password CLI: https://developer.1password.com/docs/cli/get-started
# 2. Sign in: op signin
# 3. Create vault "waddle-infra" with required items (see below)
#
# VAULT STRUCTURE (waddle-infra):
# --------------------------------
# Item: proxmox-api
#   - endpoint (https://your-proxmox:8006)
#   - api_token (user@realm!tokenid=secret)
#   - ssh_username (root)
#   - ssh_password
#
# Item: proxmox-csi
#   - endpoint (https://your-proxmox:8006/api2/json)
#   - token_id (kubernetes-csi@pve!csi)
#   - token_secret
#   - region (proxmox)
#
# Item: teleport
#   - domain (teleport.waddle.social)
#   - email (admin@waddle.social)
#   - ssh_public_key
#   - ssh_private_key
#
# Item: cloudflare
#   - api_token
#
# Item: grafana
#   - username
#   - password
#
# Item: alertmanager-smtp
#   - host
#   - username
#   - password
#
# Item: spicedb
#   - preshared_key
#
# =============================================================================
# PROXMOX API CREDENTIALS
# =============================================================================

PROXMOX_VE_ENDPOINT=op://waddle-infra/proxmox-api/endpoint
PROXMOX_VE_API_TOKEN=op://waddle-infra/proxmox-api/api_token
PROXMOX_VE_SSH_USERNAME=op://waddle-infra/proxmox-api/ssh_username
PROXMOX_VE_SSH_PASSWORD=op://waddle-infra/proxmox-api/ssh_password

# =============================================================================
# PROXMOX CSI CREDENTIALS
# =============================================================================

PROXMOX_CSI_ENDPOINT=op://waddle-infra/proxmox-csi/endpoint
PROXMOX_CSI_TOKEN_ID=op://waddle-infra/proxmox-csi/token_id
PROXMOX_CSI_TOKEN_SECRET=op://waddle-infra/proxmox-csi/token_secret

# =============================================================================
# TELEPORT CREDENTIALS
# =============================================================================

TELEPORT_DOMAIN=op://waddle-infra/teleport/domain
TELEPORT_LETSENCRYPT_EMAIL=op://waddle-infra/teleport/email
TELEPORT_SSH_KEYS=op://waddle-infra/teleport/ssh_public_key

# =============================================================================
# CLOUDFLARE API
# =============================================================================

CLOUDFLARE_API_TOKEN=op://waddle-infra/cloudflare/api_token

# =============================================================================
# GRAFANA ADMIN
# =============================================================================

GRAFANA_ADMIN_USER=op://waddle-infra/grafana/username
GRAFANA_ADMIN_PASSWORD=op://waddle-infra/grafana/password

# =============================================================================
# ALERTMANAGER SMTP
# =============================================================================

ALERTMANAGER_SMTP_HOST=op://waddle-infra/alertmanager-smtp/host
ALERTMANAGER_SMTP_USER=op://waddle-infra/alertmanager-smtp/username
ALERTMANAGER_SMTP_PASSWORD=op://waddle-infra/alertmanager-smtp/password

# =============================================================================
# SPICEDB
# =============================================================================

SPICEDB_PRESHARED_KEY=op://waddle-infra/spicedb/preshared_key
